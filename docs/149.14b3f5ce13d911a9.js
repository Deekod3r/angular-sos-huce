"use strict";(self.webpackChunkSOSHUCE_Angular=self.webpackChunkSOSHUCE_Angular||[]).push([[149],{9149:(f,l,t)=>{t.r(l),t.d(l,{LoginComponent:()=>M});var i=t(95),g=t(5359),u=t(6651),a=t(4716),d=t(6208),n=t(4946),m=t(2333),_=t(9502),p=t(9445),E=t(5219),h=t(3714),v=t(707),c=t(7664);function A(r,O){1&r&&(n.TgZ(0,"div",20)(1,"span",21),n._uU(2,"\u0110\u0103ng nh\u1eadp"),n.qZA()())}const D=function(){return{height:"3px"}};let M=(()=>{class r{constructor(e){this.authService=e,this.loginError=!1,this.loginMsg=[],this.isSubmitted=!1}ngOnInit(){this.loginForm=new i.cw({studentCode:new i.NI("",i.kI.required),password:new i.NI("",i.kI.required)})}ngOnDestroy(){}onLogin(){this.loginForm.invalid?this.errorLogin("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin"):(this.isSubmitted=!0,this.authService.login(this.loginForm).pipe((0,a.x)(()=>{this.isSubmitted=!1})).subscribe({next:e=>{e&&window.location.reload()},error:e=>{this.errorLogin(401==e.status?"Th\xf4ng tin \u0111\u0103ng nh\u1eadp kh\xf4ng ch\xednh x\xe1c":"\u0110\xe3 x\u1ea3y ra l\u1ed7i. Vui l\xf2ng th\u1eed l\u1ea1i sau"),this.loginForm.controls.password.setValue("")}}))}errorLogin(e){this.loginError=!0,this.loginMsg=[{severity:"error",summary:"L\u1ed7i",detail:e}],setTimeout(()=>{this.loginError=!1,this.loginMsg=[]},5e3)}static#n=this.\u0275fac=function(s){return new(s||r)(n.Y36(m.e))};static#t=this.\u0275cmp=n.Xpm({type:r,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:37,vars:12,consts:[[1,"form-center",3,"formGroup","ngSubmit"],[1,"xl:col-4","lg:col-6","md:col-6","col-12","panel"],["pTemplate","header"],[1,"grid"],[1,"col-12"],[1,"col-6","font-bold"],["pInputText","","type","text","formControlName","studentCode","name","student-id",1,"form-control"],[1,"text-red-500","ml-3",3,"hidden"],["pInputText","","type","password","formControlName","password","name","password",1,"form-control"],[1,"col-12","mt-3"],["pButton","","label","\u0110\u0103ng nh\u1eadp","type","submit",1,"btn-login",3,"disabled"],[1,"col-12","mt-1",3,"hidden"],["mode","indeterminate"],[1,"col-12",3,"hidden"],[3,"value","enableService","closable","valueChange"],["align","center","type","solid",1,"col-12"],["routerLink","/register"],["pButton","","label","\u0110\u0103ng k\xfd t\xe0i kho\u1ea3n m\u1edbi","type","button",1,"btn-login","p-button-secondary"],["align","center",1,"col-12"],["routerLink","/auth/register",1,"font-bold"],[1,"flex","align-items-center","gap-2"],[1,"font-bold","text-4xl","ml-2"]],template:function(s,o){1&s&&(n.TgZ(0,"form",0),n.NdJ("ngSubmit",function(){return o.onLogin()}),n.TgZ(1,"p-panel",1),n.YNc(2,A,3,0,"ng-template",2),n.TgZ(3,"div",3)(4,"div",4)(5,"div",5),n._uU(6," M\xe3 s\u1ed1 sinh vi\xean: "),n.qZA(),n.TgZ(7,"div",4),n._UZ(8,"input",6),n.qZA(),n.TgZ(9,"div",7),n._uU(10," Vui l\xf2ng nh\u1eadp m\xe3 s\u1ed1 sinh vi\xean "),n.qZA()(),n.TgZ(11,"div",4)(12,"div",5),n._uU(13," M\u1eadt kh\u1ea9u: "),n.qZA(),n.TgZ(14,"div",4),n._UZ(15,"input",8),n.qZA(),n.TgZ(16,"div",7),n._uU(17," Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u "),n.qZA()(),n.TgZ(18,"div",9)(19,"div",4),n._UZ(20,"button",10),n.qZA(),n.TgZ(21,"div",11),n._UZ(22,"p-progressBar",12),n.qZA()(),n.TgZ(23,"div",13)(24,"div",4)(25,"p-messages",14),n.NdJ("valueChange",function(T){return o.loginMsg=T}),n.qZA()()(),n.TgZ(26,"p-divider",15)(27,"b"),n._uU(28,"Ho\u1eb7c"),n.qZA()(),n.TgZ(29,"div",4)(30,"div",4)(31,"a",16),n._UZ(32,"button",17),n.qZA()()(),n.TgZ(33,"div",18)(34,"div",4)(35,"a",19),n._uU(36,"Qu\xean m\u1eadt kh\u1ea9u?"),n.qZA()()()()()()),2&s&&(n.Q6J("formGroup",o.loginForm),n.xp6(9),n.Q6J("hidden",o.loginForm.controls.studentCode.valid||!o.loginForm.controls.studentCode.dirty),n.xp6(7),n.Q6J("hidden",o.loginForm.controls.password.valid||!o.loginForm.controls.password.dirty),n.xp6(4),n.Q6J("disabled",!o.loginForm.valid||o.isSubmitted),n.xp6(1),n.Q6J("hidden",!o.isSubmitted),n.xp6(1),n.Akn(n.DdM(11,D)),n.xp6(1),n.Q6J("hidden",!o.loginError),n.xp6(2),n.Q6J("value",o.loginMsg)("enableService",!1)("closable",!1))},dependencies:[d.m,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.V,p.s,E.jx,h.o,v.Hq,c.rH,u.q,u.k,g.x,g.i],styles:[".form-control[_ngcontent-%COMP%], .btn-login[_ngcontent-%COMP%]{width:100%}a[_ngcontent-%COMP%]{text-decoration:none}.col-12[_ngcontent-%COMP%]{margin-top:-10px}.panel[_ngcontent-%COMP%]{margin-top:2%}"]})}return r})()}}]);